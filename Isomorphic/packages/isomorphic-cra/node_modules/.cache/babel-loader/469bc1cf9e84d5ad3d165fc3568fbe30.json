{"ast":null,"code":"var _jsxFileName = \"/Users/biswa/Sites/Others/demo/Isomorphic/shared/containers/Invoice/SingleInvoice.js\";\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useRouteMatch, useParams } from 'react-router-dom';\nimport EditInvoice from './EditInvoice';\nimport ViewInvoice from './ViewInvoice';\nimport Loader from '@iso/components/utility/loader';\nimport invoiceActions from '@iso/redux/invoice/actions';\nconst initData = invoiceActions.initData,\n      selectCurrentInvoice = invoiceActions.selectCurrentInvoice,\n      toggleView = invoiceActions.toggleView;\nexport default function SingleInvoice() {\n  const invoices = useSelector(state => state.Invoices);\n  const dispatch = useDispatch();\n  const match = useRouteMatch();\n\n  const _useParams = useParams(),\n        invoiceId = _useParams.invoiceId;\n\n  const initialInvoices = invoices.initialInvoices,\n        currentInvoice = invoices.currentInvoice,\n        enableEditView = invoices.enableEditView;\n  React.useEffect(() => {\n    if (!initialInvoices) {\n      dispatch(initData());\n    }\n\n    toggleCreatedInvoice();\n  }); // componentWillReceiveProps(nextProps) {\n  //   this.toggleCreatedInvoice(nextProps);\n  // }\n\n  function toggleCreatedInvoice() {\n    if (initialInvoices && currentInvoice.id !== invoiceId) {\n      dispatch(selectCurrentInvoice(invoiceId));\n    }\n  }\n\n  const redirectPath = match.url.replace(invoiceId, '');\n\n  if (currentInvoice.id !== invoiceId) {\n    return React.createElement(Loader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    });\n  } else if (enableEditView) {\n    return React.createElement(EditInvoice, Object.assign({\n      toggleView: data => dispatch(toggleView(data))\n    }, invoices, {\n      redirectPath: redirectPath,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }));\n  } else {\n    return React.createElement(ViewInvoice, Object.assign({}, invoices, {\n      toggleView: data => dispatch(toggleView(data)),\n      redirectPath: redirectPath,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }));\n  }\n}","map":{"version":3,"sources":["/Users/biswa/Sites/Others/demo/Isomorphic/shared/containers/Invoice/SingleInvoice.js"],"names":["React","useDispatch","useSelector","useRouteMatch","useParams","EditInvoice","ViewInvoice","Loader","invoiceActions","initData","selectCurrentInvoice","toggleView","SingleInvoice","invoices","state","Invoices","dispatch","match","invoiceId","initialInvoices","currentInvoice","enableEditView","useEffect","toggleCreatedInvoice","id","redirectPath","url","replace","data"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,aAAT,EAAwBC,SAAxB,QAAyC,kBAAzC;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,cAAP,MAA2B,4BAA3B;MACQC,Q,GAA+CD,c,CAA/CC,Q;MAAUC,oB,GAAqCF,c,CAArCE,oB;MAAsBC,U,GAAeH,c,CAAfG,U;AACxC,eAAe,SAASC,aAAT,GAAyB;AACtC,QAAMC,QAAQ,GAAGX,WAAW,CAACY,KAAK,IAAIA,KAAK,CAACC,QAAhB,CAA5B;AACA,QAAMC,QAAQ,GAAGf,WAAW,EAA5B;AACA,QAAMgB,KAAK,GAAGd,aAAa,EAA3B;;AAHsC,qBAIhBC,SAAS,EAJO;AAAA,QAI9Bc,SAJ8B,cAI9BA,SAJ8B;;AAAA,QAK9BC,eAL8B,GAKsBN,QALtB,CAK9BM,eAL8B;AAAA,QAKbC,cALa,GAKsBP,QALtB,CAKbO,cALa;AAAA,QAKGC,cALH,GAKsBR,QALtB,CAKGQ,cALH;AAMtCrB,EAAAA,KAAK,CAACsB,SAAN,CAAgB,MAAM;AACpB,QAAI,CAACH,eAAL,EAAsB;AACpBH,MAAAA,QAAQ,CAACP,QAAQ,EAAT,CAAR;AACD;;AACDc,IAAAA,oBAAoB;AACrB,GALD,EANsC,CAYtC;AACA;AACA;;AACA,WAASA,oBAAT,GAAgC;AAC9B,QAAIJ,eAAe,IAAIC,cAAc,CAACI,EAAf,KAAsBN,SAA7C,EAAwD;AACtDF,MAAAA,QAAQ,CAACN,oBAAoB,CAACQ,SAAD,CAArB,CAAR;AACD;AACF;;AACD,QAAMO,YAAY,GAAGR,KAAK,CAACS,GAAN,CAAUC,OAAV,CAAkBT,SAAlB,EAA6B,EAA7B,CAArB;;AACA,MAAIE,cAAc,CAACI,EAAf,KAAsBN,SAA1B,EAAqC;AACnC,WAAO,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD,GAFD,MAEO,IAAIG,cAAJ,EAAoB;AACzB,WACE,oBAAC,WAAD;AACE,MAAA,UAAU,EAAEO,IAAI,IAAIZ,QAAQ,CAACL,UAAU,CAACiB,IAAD,CAAX;AAD9B,OAEMf,QAFN;AAGE,MAAA,YAAY,EAAEY,YAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADF;AAOD,GARM,MAQA;AACL,WACE,oBAAC,WAAD,oBACMZ,QADN;AAEE,MAAA,UAAU,EAAEe,IAAI,IAAIZ,QAAQ,CAACL,UAAU,CAACiB,IAAD,CAAX,CAF9B;AAGE,MAAA,YAAY,EAAEH,YAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADF;AAOD;AACF","sourcesContent":["import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useRouteMatch, useParams } from 'react-router-dom';\nimport EditInvoice from './EditInvoice';\nimport ViewInvoice from './ViewInvoice';\nimport Loader from '@iso/components/utility/loader';\nimport invoiceActions from '@iso/redux/invoice/actions';\nconst { initData, selectCurrentInvoice, toggleView } = invoiceActions;\nexport default function SingleInvoice() {\n  const invoices = useSelector(state => state.Invoices);\n  const dispatch = useDispatch();\n  const match = useRouteMatch();\n  const { invoiceId } = useParams();\n  const { initialInvoices, currentInvoice, enableEditView } = invoices;\n  React.useEffect(() => {\n    if (!initialInvoices) {\n      dispatch(initData());\n    }\n    toggleCreatedInvoice();\n  });\n  // componentWillReceiveProps(nextProps) {\n  //   this.toggleCreatedInvoice(nextProps);\n  // }\n  function toggleCreatedInvoice() {\n    if (initialInvoices && currentInvoice.id !== invoiceId) {\n      dispatch(selectCurrentInvoice(invoiceId));\n    }\n  }\n  const redirectPath = match.url.replace(invoiceId, '');\n  if (currentInvoice.id !== invoiceId) {\n    return <Loader />;\n  } else if (enableEditView) {\n    return (\n      <EditInvoice\n        toggleView={data => dispatch(toggleView(data))}\n        {...invoices}\n        redirectPath={redirectPath}\n      />\n    );\n  } else {\n    return (\n      <ViewInvoice\n        {...invoices}\n        toggleView={data => dispatch(toggleView(data))}\n        redirectPath={redirectPath}\n      />\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}