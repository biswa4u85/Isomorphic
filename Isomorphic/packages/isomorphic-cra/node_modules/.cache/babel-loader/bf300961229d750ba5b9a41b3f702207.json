{"ast":null,"code":"var _class, _temp;\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar _require = require('@uppy/core'),\n    Plugin = _require.Plugin;\n\nvar _require2 = require('@uppy/companion-client'),\n    Provider = _require2.Provider;\n\nvar ProviderViews = require('@uppy/provider-views');\n\nvar _require3 = require('preact'),\n    h = _require3.h;\n\nmodule.exports = (_temp = _class =\n/*#__PURE__*/\nfunction (_Plugin) {\n  _inheritsLoose(Dropbox, _Plugin);\n\n  function Dropbox(uppy, opts) {\n    var _this;\n\n    _this = _Plugin.call(this, uppy, opts) || this;\n    _this.id = _this.opts.id || 'Dropbox';\n    Provider.initPlugin(_assertThisInitialized(_this), opts);\n    _this.title = _this.opts.title || 'Dropbox';\n\n    _this.icon = function () {\n      return h(\"svg\", {\n        \"aria-hidden\": \"true\",\n        focusable: \"false\",\n        width: \"128\",\n        height: \"128\",\n        viewBox: \"0 0 128 128\"\n      }, h(\"path\", {\n        d: \"M31.997 11L64 31.825 31.997 52.651 0 31.825 31.997 11zM96 11l32 20.825-32 20.826-32-20.826L96 11zM0 73.476l31.997-20.825L64 73.476 31.997 94.302 0 73.476zm96-20.825l32 20.825-32 20.826-32-20.826 32-20.825zm-64.508 48.254l32.003-20.826 31.997 20.826-31.997 20.825-32.003-20.825z\",\n        fill: \"#0260FF\",\n        \"fill-rule\": \"nonzero\"\n      }));\n    };\n\n    _this.provider = new Provider(uppy, {\n      companionUrl: _this.opts.companionUrl,\n      companionHeaders: _this.opts.companionHeaders || _this.opts.serverHeaders,\n      storage: _this.opts.storage,\n      provider: 'dropbox',\n      pluginId: _this.id\n    });\n    _this.onFirstRender = _this.onFirstRender.bind(_assertThisInitialized(_this));\n    _this.render = _this.render.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = Dropbox.prototype;\n\n  _proto.install = function install() {\n    this.view = new ProviderViews(this, {\n      provider: this.provider\n    }); // Set default state for Dropbox\n\n    this.setPluginState({\n      authenticated: false,\n      files: [],\n      folders: [],\n      directories: [],\n      activeRow: -1,\n      filterInput: '',\n      isSearchVisible: false\n    });\n    var target = this.opts.target;\n\n    if (target) {\n      this.mount(target, this);\n    }\n  };\n\n  _proto.uninstall = function uninstall() {\n    this.view.tearDown();\n    this.unmount();\n  };\n\n  _proto.onFirstRender = function onFirstRender() {\n    return this.view.getFolder();\n  };\n\n  _proto.render = function render(state) {\n    return this.view.render(state);\n  };\n\n  return Dropbox;\n}(Plugin), _class.VERSION = \"1.3.2\", _temp);","map":null,"metadata":{},"sourceType":"script"}