{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.syncChannel = syncChannel;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _effects = require(\"redux-saga/effects\");\n\nvar _marked =\n/*#__PURE__*/\n_regenerator.default.mark(syncChannel);\n\nfunction syncChannel(channel, options) {\n  var successActionCreator, failureActionCreator, transform, data, transformedData;\n  return _regenerator.default.wrap(function syncChannel$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          successActionCreator = options.successActionCreator, failureActionCreator = options.failureActionCreator, transform = options.transform;\n          _context.prev = 1;\n\n        case 2:\n          if (!true) {\n            _context.next = 11;\n            break;\n          }\n\n          _context.next = 5;\n          return (0, _effects.take)(channel);\n\n        case 5:\n          data = _context.sent;\n          transformedData = transform ? transform(data) : data;\n          _context.next = 9;\n          return (0, _effects.put)(successActionCreator(transformedData));\n\n        case 9:\n          _context.next = 2;\n          break;\n\n        case 11:\n          _context.next = 21;\n          break;\n\n        case 13:\n          _context.prev = 13;\n          _context.t0 = _context[\"catch\"](1);\n\n          if (!failureActionCreator) {\n            _context.next = 20;\n            break;\n          }\n\n          _context.next = 18;\n          return (0, _effects.put)(failureActionCreator(_context.t0));\n\n        case 18:\n          _context.next = 21;\n          break;\n\n        case 20:\n          console.error('The following error has been ignored because no `failureActionCreator` has been set:', _context.t0);\n\n        case 21:\n          _context.prev = 21;\n          _context.next = 24;\n          return (0, _effects.cancelled)();\n\n        case 24:\n          if (!_context.sent) {\n            _context.next = 26;\n            break;\n          }\n\n          channel.close();\n\n        case 26:\n          return _context.finish(21);\n\n        case 27:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, this, [[1, 13, 21, 27]]);\n}","map":null,"metadata":{},"sourceType":"script"}