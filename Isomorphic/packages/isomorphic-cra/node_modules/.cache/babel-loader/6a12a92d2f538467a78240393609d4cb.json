{"ast":null,"code":"import _defineProperty from \"/Users/biswa/Sites/Others/demo/Isomorphic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/biswa/Sites/Others/demo/Isomorphic/shared/containers/FirestoreCRUD/Article/Article.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport articleActions from '@iso/redux/articles/actions';\nimport Input, { Textarea } from '@iso/components/uielements/input';\nimport Select, { SelectOption as Option } from '@iso/components/uielements/select';\nimport Modal from '@iso/components/Feedback/Modal';\nimport LayoutContentWrapper from '@iso/components/utility/layoutWrapper';\nimport Box from '@iso/components/utility/box';\nimport ContentHolder from '@iso/components/utility/contentHolder';\nimport Popconfirms from '@iso/components/Feedback/Popconfirm';\nimport { ActionBtn, Fieldset, Form, Label, TitleWrapper, ButtonHolders, ActionWrapper, ComponentTitle, TableWrapper, StatusTag } from './Article.styles';\nconst loadFromFireStore = articleActions.loadFromFireStore,\n      resetFireStoreDocuments = articleActions.resetFireStoreDocuments,\n      saveIntoFireStore = articleActions.saveIntoFireStore,\n      toggleModal = articleActions.toggleModal,\n      update = articleActions.update;\nexport default function Articles() {\n  const _useSelector = useSelector(state => state.Articles),\n        articles = _useSelector.articles,\n        article = _useSelector.article,\n        modalActive = _useSelector.modalActive,\n        isLoading = _useSelector.isLoading;\n\n  const dispatch = useDispatch();\n  React.useEffect(() => {\n    dispatch(loadFromFireStore());\n  }, [dispatch]);\n\n  const handleRecord = (actionName, article) => {\n    if (article.key && actionName !== 'delete') actionName = 'update';\n    dispatch(saveIntoFireStore(article, actionName));\n  };\n\n  const resetRecords = () => {\n    dispatch(resetFireStoreDocuments());\n  };\n\n  const handleModal = (article = null) => {\n    dispatch(toggleModal(article));\n  };\n\n  const onRecordChange = (event, key) => {\n    if (key) article[key] = event.target.value;\n    dispatch(update(article));\n  };\n\n  const onSelectChange = (key, value) => {\n    if (key) article[key] = value;\n    dispatch(update(article));\n  };\n\n  const dataSource = [];\n  Object.keys(articles).map((article, index) => {\n    return dataSource.push(_objectSpread({}, articles[article], {\n      key: article\n    }));\n  });\n  const rowSelection = {\n    onChange: (selectedRowKeys, selectedRows) => {}\n  };\n  const columns = [{\n    title: 'Title',\n    dataIndex: 'title',\n    key: 'title',\n    width: '200px',\n    sorter: (a, b) => {\n      if (a.title < b.title) return -1;\n      if (a.title > b.title) return 1;\n      return 0;\n    },\n    render: (text, row) => {\n      const trimByWord = sentence => {\n        let result = sentence;\n        let resultArray = result.split(' ');\n\n        if (resultArray.length > 7) {\n          resultArray = resultArray.slice(0, 7);\n          result = resultArray.join(' ') + '...';\n        }\n\n        return result;\n      };\n\n      return trimByWord(row.title);\n    }\n  }, {\n    title: 'Description',\n    dataIndex: 'description',\n    key: 'description',\n    width: '360px',\n    sorter: (a, b) => {\n      if (a.description < b.description) return -1;\n      if (a.description > b.description) return 1;\n      return 0;\n    },\n    render: (text, row) => {\n      const trimByWord = sentence => {\n        let result = sentence;\n        let resultArray = result.split(' ');\n\n        if (resultArray.length > 20) {\n          resultArray = resultArray.slice(0, 20);\n          result = resultArray.join(' ') + '...';\n        }\n\n        return result;\n      };\n\n      return trimByWord(row.description);\n    }\n  }, {\n    title: 'Excerpt',\n    dataIndex: 'excerpt',\n    key: 'excerpt',\n    width: '220px',\n    sorter: (a, b) => {\n      if (a.excerpt < b.excerpt) return -1;\n      if (a.excerpt > b.excerpt) return 1;\n      return 0;\n    },\n    render: (text, row) => {\n      const trimByWord = sentence => {\n        let result = sentence;\n        let resultArray = result.split(' ');\n\n        if (resultArray.length > 8) {\n          resultArray = resultArray.slice(0, 8);\n          result = resultArray.join(' ') + '...';\n        }\n\n        return result;\n      };\n\n      return trimByWord(row.excerpt);\n    }\n  }, {\n    title: 'Slugs',\n    dataIndex: 'slug',\n    width: '170px',\n    key: 'slug',\n    sorter: (a, b) => {\n      if (a.slug < b.slug) return -1;\n      if (a.slug > b.slug) return 1;\n      return 0;\n    }\n  }, {\n    title: 'Status',\n    dataIndex: 'status',\n    className: 'noWrapCell',\n    key: 'status',\n    sorter: (a, b) => {\n      if (a.status < b.status) return -1;\n      if (a.status > b.status) return 1;\n      return 0;\n    },\n    render: (text, row) => {\n      let className;\n\n      if (row.status === ('draft' || 'Draft' || 'DRAFT')) {\n        className = 'draft';\n      } else if (row.status === ('publish' || 'Publish' || 'PUBLISH')) {\n        className = 'publish';\n      }\n\n      return React.createElement(StatusTag, {\n        className: className,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, row.status);\n    }\n  }, {\n    title: 'Actions',\n    key: 'action',\n    width: '60px',\n    className: 'noWrapCell',\n    render: (text, row) => {\n      return React.createElement(ActionWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        onClick: () => handleModal(row),\n        href: \"# \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"ion-android-create\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      })), React.createElement(Popconfirms, {\n        title: \"Are you sure to delete this article\\uFF1F\",\n        okText: \"Yes\",\n        cancelText: \"No\",\n        placement: \"topRight\",\n        onConfirm: () => handleRecord('delete', row),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"deleteBtn\",\n        href: \"# \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"ion-android-delete\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }))));\n    }\n  }];\n  return React.createElement(LayoutContentWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209\n    },\n    __self: this\n  }, React.createElement(Box, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210\n    },\n    __self: this\n  }, React.createElement(ContentHolder, {\n    style: {\n      marginTop: 0,\n      overflow: 'hidden'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211\n    },\n    __self: this\n  }, React.createElement(TitleWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212\n    },\n    __self: this\n  }, React.createElement(ComponentTitle, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213\n    },\n    __self: this\n  }, \"Articles\"), React.createElement(ButtonHolders, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215\n    },\n    __self: this\n  }, React.createElement(ActionBtn, {\n    type: \"danger\",\n    onClick: resetRecords,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216\n    },\n    __self: this\n  }, \"Reset record\"), React.createElement(ActionBtn, {\n    type: \"primary\",\n    onClick: () => handleModal(null),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220\n    },\n    __self: this\n  }, \"Add new record\"))), React.createElement(Modal, {\n    visible: modalActive,\n    onClose: () => dispatch(toggleModal(null)),\n    title: article.key ? 'Update Article' : 'Add New Article',\n    okText: article.key ? 'Update Article' : 'Add Article',\n    onOk: () => handleRecord('insert', article),\n    onCancel: () => dispatch(toggleModal(null)),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226\n    },\n    __self: this\n  }, React.createElement(Form, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234\n    },\n    __self: this\n  }, React.createElement(Fieldset, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235\n    },\n    __self: this\n  }, React.createElement(Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236\n    },\n    __self: this\n  }, \"Title\"), React.createElement(Input, {\n    label: \"Title\",\n    placeholder: \"Enter Title\",\n    value: article.title,\n    onChange: e => onRecordChange(e, 'title'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237\n    },\n    __self: this\n  })), React.createElement(Fieldset, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245\n    },\n    __self: this\n  }, React.createElement(Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246\n    },\n    __self: this\n  }, \"Description\"), React.createElement(Textarea, {\n    label: \"Description\",\n    placeholder: \"Enter Description\",\n    rows: 5,\n    value: article.description,\n    onChange: e => onRecordChange(e, 'description'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247\n    },\n    __self: this\n  })), React.createElement(Fieldset, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256\n    },\n    __self: this\n  }, React.createElement(Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257\n    },\n    __self: this\n  }, \"Excerpt\"), React.createElement(Textarea, {\n    label: \"Excerpt\",\n    rows: 5,\n    placeholder: \"Enter excerpt\",\n    value: article.excerpt,\n    onChange: e => onRecordChange(e, 'excerpt'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258\n    },\n    __self: this\n  })), React.createElement(Fieldset, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267\n    },\n    __self: this\n  }, React.createElement(Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268\n    },\n    __self: this\n  }, \"Slug\"), React.createElement(Input, {\n    label: \"Slug\",\n    placeholder: \"Enter Slugs\",\n    value: article.slug,\n    onChange: e => onRecordChange(e, 'slug'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270\n    },\n    __self: this\n  })), React.createElement(Fieldset, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278\n    },\n    __self: this\n  }, React.createElement(Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279\n    },\n    __self: this\n  }, \"Status\"), React.createElement(Select, {\n    defaultValue: article.status,\n    placeholder: \"Enter Status\",\n    onChange: value => onSelectChange('status', value),\n    style: {\n      width: '170px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280\n    },\n    __self: this\n  }, React.createElement(Option, {\n    value: \"draft\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286\n    },\n    __self: this\n  }, \"Draft\"), React.createElement(Option, {\n    value: \"publish\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287\n    },\n    __self: this\n  }, \"Publish\"))))), React.createElement(TableWrapper, {\n    rowKey: \"key\",\n    rowSelection: rowSelection,\n    columns: columns,\n    bordered: true,\n    dataSource: dataSource,\n    loading: isLoading,\n    className: \"isoSimpleTable\",\n    pagination: {\n      // defaultPageSize: 1,\n      hideOnSinglePage: true,\n      total: dataSource.length,\n      showTotal: (total, range) => {\n        return \"Showing \".concat(range[0], \"-\").concat(range[1], \" of \").concat(dataSource.length, \" Results\");\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292\n    },\n    __self: this\n  }))));\n}","map":{"version":3,"sources":["/Users/biswa/Sites/Others/demo/Isomorphic/shared/containers/FirestoreCRUD/Article/Article.js"],"names":["React","useDispatch","useSelector","articleActions","Input","Textarea","Select","SelectOption","Option","Modal","LayoutContentWrapper","Box","ContentHolder","Popconfirms","ActionBtn","Fieldset","Form","Label","TitleWrapper","ButtonHolders","ActionWrapper","ComponentTitle","TableWrapper","StatusTag","loadFromFireStore","resetFireStoreDocuments","saveIntoFireStore","toggleModal","update","Articles","state","articles","article","modalActive","isLoading","dispatch","useEffect","handleRecord","actionName","key","resetRecords","handleModal","onRecordChange","event","target","value","onSelectChange","dataSource","Object","keys","map","index","push","rowSelection","onChange","selectedRowKeys","selectedRows","columns","title","dataIndex","width","sorter","a","b","render","text","row","trimByWord","sentence","result","resultArray","split","length","slice","join","description","excerpt","slug","className","status","marginTop","overflow","e","hideOnSinglePage","total","showTotal","range"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,cAAP,MAA2B,6BAA3B;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,kCAAhC;AACA,OAAOC,MAAP,IACEC,YAAY,IAAIC,MADlB,QAEO,mCAFP;AAGA,OAAOC,KAAP,MAAkB,gCAAlB;AACA,OAAOC,oBAAP,MAAiC,uCAAjC;AACA,OAAOC,GAAP,MAAgB,6BAAhB;AACA,OAAOC,aAAP,MAA0B,uCAA1B;AACA,OAAOC,WAAP,MAAwB,qCAAxB;AACA,SACEC,SADF,EAEEC,QAFF,EAGEC,IAHF,EAIEC,KAJF,EAKEC,YALF,EAMEC,aANF,EAOEC,aAPF,EAQEC,cARF,EASEC,YATF,EAUEC,SAVF,QAWO,kBAXP;MAaEC,iB,GAKErB,c,CALFqB,iB;MACAC,uB,GAIEtB,c,CAJFsB,uB;MACAC,iB,GAGEvB,c,CAHFuB,iB;MACAC,W,GAEExB,c,CAFFwB,W;MACAC,M,GACEzB,c,CADFyB,M;AAEF,eAAe,SAASC,QAAT,GAAoB;AAAA,uBACqB3B,WAAW,CAC/D4B,KAAK,IAAIA,KAAK,CAACD,QADgD,CADhC;AAAA,QACzBE,QADyB,gBACzBA,QADyB;AAAA,QACfC,OADe,gBACfA,OADe;AAAA,QACNC,WADM,gBACNA,WADM;AAAA,QACOC,SADP,gBACOA,SADP;;AAIjC,QAAMC,QAAQ,GAAGlC,WAAW,EAA5B;AACAD,EAAAA,KAAK,CAACoC,SAAN,CAAgB,MAAM;AACpBD,IAAAA,QAAQ,CAACX,iBAAiB,EAAlB,CAAR;AACD,GAFD,EAEG,CAACW,QAAD,CAFH;;AAGA,QAAME,YAAY,GAAG,CAACC,UAAD,EAAaN,OAAb,KAAyB;AAC5C,QAAIA,OAAO,CAACO,GAAR,IAAeD,UAAU,KAAK,QAAlC,EAA4CA,UAAU,GAAG,QAAb;AAC5CH,IAAAA,QAAQ,CAACT,iBAAiB,CAACM,OAAD,EAAUM,UAAV,CAAlB,CAAR;AACD,GAHD;;AAIA,QAAME,YAAY,GAAG,MAAM;AACzBL,IAAAA,QAAQ,CAACV,uBAAuB,EAAxB,CAAR;AACD,GAFD;;AAIA,QAAMgB,WAAW,GAAG,CAACT,OAAO,GAAG,IAAX,KAAoB;AACtCG,IAAAA,QAAQ,CAACR,WAAW,CAACK,OAAD,CAAZ,CAAR;AACD,GAFD;;AAIA,QAAMU,cAAc,GAAG,CAACC,KAAD,EAAQJ,GAAR,KAAgB;AACrC,QAAIA,GAAJ,EAASP,OAAO,CAACO,GAAD,CAAP,GAAeI,KAAK,CAACC,MAAN,CAAaC,KAA5B;AACTV,IAAAA,QAAQ,CAACP,MAAM,CAACI,OAAD,CAAP,CAAR;AACD,GAHD;;AAKA,QAAMc,cAAc,GAAG,CAACP,GAAD,EAAMM,KAAN,KAAgB;AACrC,QAAIN,GAAJ,EAASP,OAAO,CAACO,GAAD,CAAP,GAAeM,KAAf;AACTV,IAAAA,QAAQ,CAACP,MAAM,CAACI,OAAD,CAAP,CAAR;AACD,GAHD;;AAKA,QAAMe,UAAU,GAAG,EAAnB;AACAC,EAAAA,MAAM,CAACC,IAAP,CAAYlB,QAAZ,EAAsBmB,GAAtB,CAA0B,CAAClB,OAAD,EAAUmB,KAAV,KAAoB;AAC5C,WAAOJ,UAAU,CAACK,IAAX,mBACFrB,QAAQ,CAACC,OAAD,CADN;AAELO,MAAAA,GAAG,EAAEP;AAFA,OAAP;AAID,GALD;AAOA,QAAMqB,YAAY,GAAG;AACnBC,IAAAA,QAAQ,EAAE,CAACC,eAAD,EAAkBC,YAAlB,KAAmC,CAAE;AAD5B,GAArB;AAIA,QAAMC,OAAO,GAAG,CACd;AACEC,IAAAA,KAAK,EAAE,OADT;AAEEC,IAAAA,SAAS,EAAE,OAFb;AAGEpB,IAAAA,GAAG,EAAE,OAHP;AAIEqB,IAAAA,KAAK,EAAE,OAJT;AAKEC,IAAAA,MAAM,EAAE,CAACC,CAAD,EAAIC,CAAJ,KAAU;AAChB,UAAID,CAAC,CAACJ,KAAF,GAAUK,CAAC,CAACL,KAAhB,EAAuB,OAAO,CAAC,CAAR;AACvB,UAAII,CAAC,CAACJ,KAAF,GAAUK,CAAC,CAACL,KAAhB,EAAuB,OAAO,CAAP;AACvB,aAAO,CAAP;AACD,KATH;AAUEM,IAAAA,MAAM,EAAE,CAACC,IAAD,EAAOC,GAAP,KAAe;AACrB,YAAMC,UAAU,GAAGC,QAAQ,IAAI;AAC7B,YAAIC,MAAM,GAAGD,QAAb;AACA,YAAIE,WAAW,GAAGD,MAAM,CAACE,KAAP,CAAa,GAAb,CAAlB;;AACA,YAAID,WAAW,CAACE,MAAZ,GAAqB,CAAzB,EAA4B;AAC1BF,UAAAA,WAAW,GAAGA,WAAW,CAACG,KAAZ,CAAkB,CAAlB,EAAqB,CAArB,CAAd;AACAJ,UAAAA,MAAM,GAAGC,WAAW,CAACI,IAAZ,CAAiB,GAAjB,IAAwB,KAAjC;AACD;;AACD,eAAOL,MAAP;AACD,OARD;;AAUA,aAAOF,UAAU,CAACD,GAAG,CAACR,KAAL,CAAjB;AACD;AAtBH,GADc,EAyBd;AACEA,IAAAA,KAAK,EAAE,aADT;AAEEC,IAAAA,SAAS,EAAE,aAFb;AAGEpB,IAAAA,GAAG,EAAE,aAHP;AAIEqB,IAAAA,KAAK,EAAE,OAJT;AAKEC,IAAAA,MAAM,EAAE,CAACC,CAAD,EAAIC,CAAJ,KAAU;AAChB,UAAID,CAAC,CAACa,WAAF,GAAgBZ,CAAC,CAACY,WAAtB,EAAmC,OAAO,CAAC,CAAR;AACnC,UAAIb,CAAC,CAACa,WAAF,GAAgBZ,CAAC,CAACY,WAAtB,EAAmC,OAAO,CAAP;AACnC,aAAO,CAAP;AACD,KATH;AAUEX,IAAAA,MAAM,EAAE,CAACC,IAAD,EAAOC,GAAP,KAAe;AACrB,YAAMC,UAAU,GAAGC,QAAQ,IAAI;AAC7B,YAAIC,MAAM,GAAGD,QAAb;AACA,YAAIE,WAAW,GAAGD,MAAM,CAACE,KAAP,CAAa,GAAb,CAAlB;;AACA,YAAID,WAAW,CAACE,MAAZ,GAAqB,EAAzB,EAA6B;AAC3BF,UAAAA,WAAW,GAAGA,WAAW,CAACG,KAAZ,CAAkB,CAAlB,EAAqB,EAArB,CAAd;AACAJ,UAAAA,MAAM,GAAGC,WAAW,CAACI,IAAZ,CAAiB,GAAjB,IAAwB,KAAjC;AACD;;AACD,eAAOL,MAAP;AACD,OARD;;AAUA,aAAOF,UAAU,CAACD,GAAG,CAACS,WAAL,CAAjB;AACD;AAtBH,GAzBc,EAiDd;AACEjB,IAAAA,KAAK,EAAE,SADT;AAEEC,IAAAA,SAAS,EAAE,SAFb;AAGEpB,IAAAA,GAAG,EAAE,SAHP;AAIEqB,IAAAA,KAAK,EAAE,OAJT;AAKEC,IAAAA,MAAM,EAAE,CAACC,CAAD,EAAIC,CAAJ,KAAU;AAChB,UAAID,CAAC,CAACc,OAAF,GAAYb,CAAC,CAACa,OAAlB,EAA2B,OAAO,CAAC,CAAR;AAC3B,UAAId,CAAC,CAACc,OAAF,GAAYb,CAAC,CAACa,OAAlB,EAA2B,OAAO,CAAP;AAC3B,aAAO,CAAP;AACD,KATH;AAUEZ,IAAAA,MAAM,EAAE,CAACC,IAAD,EAAOC,GAAP,KAAe;AACrB,YAAMC,UAAU,GAAGC,QAAQ,IAAI;AAC7B,YAAIC,MAAM,GAAGD,QAAb;AACA,YAAIE,WAAW,GAAGD,MAAM,CAACE,KAAP,CAAa,GAAb,CAAlB;;AACA,YAAID,WAAW,CAACE,MAAZ,GAAqB,CAAzB,EAA4B;AAC1BF,UAAAA,WAAW,GAAGA,WAAW,CAACG,KAAZ,CAAkB,CAAlB,EAAqB,CAArB,CAAd;AACAJ,UAAAA,MAAM,GAAGC,WAAW,CAACI,IAAZ,CAAiB,GAAjB,IAAwB,KAAjC;AACD;;AACD,eAAOL,MAAP;AACD,OARD;;AAUA,aAAOF,UAAU,CAACD,GAAG,CAACU,OAAL,CAAjB;AACD;AAtBH,GAjDc,EAyEd;AACElB,IAAAA,KAAK,EAAE,OADT;AAEEC,IAAAA,SAAS,EAAE,MAFb;AAGEC,IAAAA,KAAK,EAAE,OAHT;AAIErB,IAAAA,GAAG,EAAE,MAJP;AAKEsB,IAAAA,MAAM,EAAE,CAACC,CAAD,EAAIC,CAAJ,KAAU;AAChB,UAAID,CAAC,CAACe,IAAF,GAASd,CAAC,CAACc,IAAf,EAAqB,OAAO,CAAC,CAAR;AACrB,UAAIf,CAAC,CAACe,IAAF,GAASd,CAAC,CAACc,IAAf,EAAqB,OAAO,CAAP;AACrB,aAAO,CAAP;AACD;AATH,GAzEc,EAoFd;AACEnB,IAAAA,KAAK,EAAE,QADT;AAEEC,IAAAA,SAAS,EAAE,QAFb;AAGEmB,IAAAA,SAAS,EAAE,YAHb;AAIEvC,IAAAA,GAAG,EAAE,QAJP;AAKEsB,IAAAA,MAAM,EAAE,CAACC,CAAD,EAAIC,CAAJ,KAAU;AAChB,UAAID,CAAC,CAACiB,MAAF,GAAWhB,CAAC,CAACgB,MAAjB,EAAyB,OAAO,CAAC,CAAR;AACzB,UAAIjB,CAAC,CAACiB,MAAF,GAAWhB,CAAC,CAACgB,MAAjB,EAAyB,OAAO,CAAP;AACzB,aAAO,CAAP;AACD,KATH;AAWEf,IAAAA,MAAM,EAAE,CAACC,IAAD,EAAOC,GAAP,KAAe;AACrB,UAAIY,SAAJ;;AACA,UAAIZ,GAAG,CAACa,MAAJ,MAAgB,WAAW,OAAX,IAAsB,OAAtC,CAAJ,EAAoD;AAClDD,QAAAA,SAAS,GAAG,OAAZ;AACD,OAFD,MAEO,IAAIZ,GAAG,CAACa,MAAJ,MAAgB,aAAa,SAAb,IAA0B,SAA1C,CAAJ,EAA0D;AAC/DD,QAAAA,SAAS,GAAG,SAAZ;AACD;;AACD,aAAO,oBAAC,SAAD;AAAW,QAAA,SAAS,EAAEA,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAkCZ,GAAG,CAACa,MAAtC,CAAP;AACD;AAnBH,GApFc,EAyGd;AACErB,IAAAA,KAAK,EAAE,SADT;AAEEnB,IAAAA,GAAG,EAAE,QAFP;AAGEqB,IAAAA,KAAK,EAAE,MAHT;AAIEkB,IAAAA,SAAS,EAAE,YAJb;AAKEd,IAAAA,MAAM,EAAE,CAACC,IAAD,EAAOC,GAAP,KAAe;AACrB,aACE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAG,QAAA,OAAO,EAAE,MAAMzB,WAAW,CAACyB,GAAD,CAA7B;AAAoC,QAAA,IAAI,EAAC,IAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAG,QAAA,SAAS,EAAC,oBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,EAKE,oBAAC,WAAD;AACE,QAAA,KAAK,EAAC,2CADR;AAEE,QAAA,MAAM,EAAC,KAFT;AAGE,QAAA,UAAU,EAAC,IAHb;AAIE,QAAA,SAAS,EAAC,UAJZ;AAKE,QAAA,SAAS,EAAE,MAAM7B,YAAY,CAAC,QAAD,EAAW6B,GAAX,CAL/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAOE;AAAG,QAAA,SAAS,EAAC,WAAb;AAAyB,QAAA,IAAI,EAAC,IAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAG,QAAA,SAAS,EAAC,oBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAPF,CALF,CADF;AAmBD;AAzBH,GAzGc,CAAhB;AAsIA,SACE,oBAAC,oBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,aAAD;AAAe,IAAA,KAAK,EAAE;AAAEc,MAAAA,SAAS,EAAE,CAAb;AAAgBC,MAAAA,QAAQ,EAAE;AAA1B,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAGE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,SAAD;AAAW,IAAA,IAAI,EAAC,QAAhB;AAAyB,IAAA,OAAO,EAAEzC,YAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAKE,oBAAC,SAAD;AAAW,IAAA,IAAI,EAAC,SAAhB;AAA0B,IAAA,OAAO,EAAE,MAAMC,WAAW,CAAC,IAAD,CAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBALF,CAHF,CADF,EAeE,oBAAC,KAAD;AACE,IAAA,OAAO,EAAER,WADX;AAEE,IAAA,OAAO,EAAE,MAAME,QAAQ,CAACR,WAAW,CAAC,IAAD,CAAZ,CAFzB;AAGE,IAAA,KAAK,EAAEK,OAAO,CAACO,GAAR,GAAc,gBAAd,GAAiC,iBAH1C;AAIE,IAAA,MAAM,EAAEP,OAAO,CAACO,GAAR,GAAc,gBAAd,GAAiC,aAJ3C;AAKE,IAAA,IAAI,EAAE,MAAMF,YAAY,CAAC,QAAD,EAAWL,OAAX,CAL1B;AAME,IAAA,QAAQ,EAAE,MAAMG,QAAQ,CAACR,WAAW,CAAC,IAAD,CAAZ,CAN1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,EAEE,oBAAC,KAAD;AACE,IAAA,KAAK,EAAC,OADR;AAEE,IAAA,WAAW,EAAC,aAFd;AAGE,IAAA,KAAK,EAAEK,OAAO,CAAC0B,KAHjB;AAIE,IAAA,QAAQ,EAAEwB,CAAC,IAAIxC,cAAc,CAACwC,CAAD,EAAI,OAAJ,CAJ/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,EAWE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,EAEE,oBAAC,QAAD;AACE,IAAA,KAAK,EAAC,aADR;AAEE,IAAA,WAAW,EAAC,mBAFd;AAGE,IAAA,IAAI,EAAE,CAHR;AAIE,IAAA,KAAK,EAAElD,OAAO,CAAC2C,WAJjB;AAKE,IAAA,QAAQ,EAAEO,CAAC,IAAIxC,cAAc,CAACwC,CAAD,EAAI,aAAJ,CAL/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAXF,EAsBE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAEE,oBAAC,QAAD;AACE,IAAA,KAAK,EAAC,SADR;AAEE,IAAA,IAAI,EAAE,CAFR;AAGE,IAAA,WAAW,EAAC,eAHd;AAIE,IAAA,KAAK,EAAElD,OAAO,CAAC4C,OAJjB;AAKE,IAAA,QAAQ,EAAEM,CAAC,IAAIxC,cAAc,CAACwC,CAAD,EAAI,SAAJ,CAL/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAtBF,EAiCE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAGE,oBAAC,KAAD;AACE,IAAA,KAAK,EAAC,MADR;AAEE,IAAA,WAAW,EAAC,aAFd;AAGE,IAAA,KAAK,EAAElD,OAAO,CAAC6C,IAHjB;AAIE,IAAA,QAAQ,EAAEK,CAAC,IAAIxC,cAAc,CAACwC,CAAD,EAAI,MAAJ,CAJ/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,CAjCF,EA4CE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAEE,oBAAC,MAAD;AACE,IAAA,YAAY,EAAElD,OAAO,CAAC+C,MADxB;AAEE,IAAA,WAAW,EAAC,cAFd;AAGE,IAAA,QAAQ,EAAElC,KAAK,IAAIC,cAAc,CAAC,QAAD,EAAWD,KAAX,CAHnC;AAIE,IAAA,KAAK,EAAE;AAAEe,MAAAA,KAAK,EAAE;AAAT,KAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAME,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aANF,EAOE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAPF,CAFF,CA5CF,CARF,CAfF,EAiFE,oBAAC,YAAD;AACE,IAAA,MAAM,EAAC,KADT;AAEE,IAAA,YAAY,EAAEP,YAFhB;AAGE,IAAA,OAAO,EAAEI,OAHX;AAIE,IAAA,QAAQ,EAAE,IAJZ;AAKE,IAAA,UAAU,EAAEV,UALd;AAME,IAAA,OAAO,EAAEb,SANX;AAOE,IAAA,SAAS,EAAC,gBAPZ;AAQE,IAAA,UAAU,EAAE;AACV;AACAiD,MAAAA,gBAAgB,EAAE,IAFR;AAGVC,MAAAA,KAAK,EAAErC,UAAU,CAACyB,MAHR;AAIVa,MAAAA,SAAS,EAAE,CAACD,KAAD,EAAQE,KAAR,KAAkB;AAC3B,iCAAkBA,KAAK,CAAC,CAAD,CAAvB,cAA8BA,KAAK,CAAC,CAAD,CAAnC,iBACEvC,UAAU,CAACyB,MADb;AAGD;AARS,KARd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAjFF,CADF,CADF,CADF;AA2GD","sourcesContent":["import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport articleActions from '@iso/redux/articles/actions';\nimport Input, { Textarea } from '@iso/components/uielements/input';\nimport Select, {\n  SelectOption as Option,\n} from '@iso/components/uielements/select';\nimport Modal from '@iso/components/Feedback/Modal';\nimport LayoutContentWrapper from '@iso/components/utility/layoutWrapper';\nimport Box from '@iso/components/utility/box';\nimport ContentHolder from '@iso/components/utility/contentHolder';\nimport Popconfirms from '@iso/components/Feedback/Popconfirm';\nimport {\n  ActionBtn,\n  Fieldset,\n  Form,\n  Label,\n  TitleWrapper,\n  ButtonHolders,\n  ActionWrapper,\n  ComponentTitle,\n  TableWrapper,\n  StatusTag,\n} from './Article.styles';\nconst {\n  loadFromFireStore,\n  resetFireStoreDocuments,\n  saveIntoFireStore,\n  toggleModal,\n  update,\n} = articleActions;\nexport default function Articles() {\n  const { articles, article, modalActive, isLoading } = useSelector(\n    state => state.Articles\n  );\n  const dispatch = useDispatch();\n  React.useEffect(() => {\n    dispatch(loadFromFireStore());\n  }, [dispatch]);\n  const handleRecord = (actionName, article) => {\n    if (article.key && actionName !== 'delete') actionName = 'update';\n    dispatch(saveIntoFireStore(article, actionName));\n  };\n  const resetRecords = () => {\n    dispatch(resetFireStoreDocuments());\n  };\n\n  const handleModal = (article = null) => {\n    dispatch(toggleModal(article));\n  };\n\n  const onRecordChange = (event, key) => {\n    if (key) article[key] = event.target.value;\n    dispatch(update(article));\n  };\n\n  const onSelectChange = (key, value) => {\n    if (key) article[key] = value;\n    dispatch(update(article));\n  };\n\n  const dataSource = [];\n  Object.keys(articles).map((article, index) => {\n    return dataSource.push({\n      ...articles[article],\n      key: article,\n    });\n  });\n\n  const rowSelection = {\n    onChange: (selectedRowKeys, selectedRows) => {},\n  };\n\n  const columns = [\n    {\n      title: 'Title',\n      dataIndex: 'title',\n      key: 'title',\n      width: '200px',\n      sorter: (a, b) => {\n        if (a.title < b.title) return -1;\n        if (a.title > b.title) return 1;\n        return 0;\n      },\n      render: (text, row) => {\n        const trimByWord = sentence => {\n          let result = sentence;\n          let resultArray = result.split(' ');\n          if (resultArray.length > 7) {\n            resultArray = resultArray.slice(0, 7);\n            result = resultArray.join(' ') + '...';\n          }\n          return result;\n        };\n\n        return trimByWord(row.title);\n      },\n    },\n    {\n      title: 'Description',\n      dataIndex: 'description',\n      key: 'description',\n      width: '360px',\n      sorter: (a, b) => {\n        if (a.description < b.description) return -1;\n        if (a.description > b.description) return 1;\n        return 0;\n      },\n      render: (text, row) => {\n        const trimByWord = sentence => {\n          let result = sentence;\n          let resultArray = result.split(' ');\n          if (resultArray.length > 20) {\n            resultArray = resultArray.slice(0, 20);\n            result = resultArray.join(' ') + '...';\n          }\n          return result;\n        };\n\n        return trimByWord(row.description);\n      },\n    },\n    {\n      title: 'Excerpt',\n      dataIndex: 'excerpt',\n      key: 'excerpt',\n      width: '220px',\n      sorter: (a, b) => {\n        if (a.excerpt < b.excerpt) return -1;\n        if (a.excerpt > b.excerpt) return 1;\n        return 0;\n      },\n      render: (text, row) => {\n        const trimByWord = sentence => {\n          let result = sentence;\n          let resultArray = result.split(' ');\n          if (resultArray.length > 8) {\n            resultArray = resultArray.slice(0, 8);\n            result = resultArray.join(' ') + '...';\n          }\n          return result;\n        };\n\n        return trimByWord(row.excerpt);\n      },\n    },\n    {\n      title: 'Slugs',\n      dataIndex: 'slug',\n      width: '170px',\n      key: 'slug',\n      sorter: (a, b) => {\n        if (a.slug < b.slug) return -1;\n        if (a.slug > b.slug) return 1;\n        return 0;\n      },\n    },\n    {\n      title: 'Status',\n      dataIndex: 'status',\n      className: 'noWrapCell',\n      key: 'status',\n      sorter: (a, b) => {\n        if (a.status < b.status) return -1;\n        if (a.status > b.status) return 1;\n        return 0;\n      },\n\n      render: (text, row) => {\n        let className;\n        if (row.status === ('draft' || 'Draft' || 'DRAFT')) {\n          className = 'draft';\n        } else if (row.status === ('publish' || 'Publish' || 'PUBLISH')) {\n          className = 'publish';\n        }\n        return <StatusTag className={className}>{row.status}</StatusTag>;\n      },\n    },\n    {\n      title: 'Actions',\n      key: 'action',\n      width: '60px',\n      className: 'noWrapCell',\n      render: (text, row) => {\n        return (\n          <ActionWrapper>\n            <a onClick={() => handleModal(row)} href=\"# \">\n              <i className=\"ion-android-create\" />\n            </a>\n\n            <Popconfirms\n              title=\"Are you sure to delete this article？\"\n              okText=\"Yes\"\n              cancelText=\"No\"\n              placement=\"topRight\"\n              onConfirm={() => handleRecord('delete', row)}\n            >\n              <a className=\"deleteBtn\" href=\"# \">\n                <i className=\"ion-android-delete\" />\n              </a>\n            </Popconfirms>\n          </ActionWrapper>\n        );\n      },\n    },\n  ];\n\n  return (\n    <LayoutContentWrapper>\n      <Box>\n        <ContentHolder style={{ marginTop: 0, overflow: 'hidden' }}>\n          <TitleWrapper>\n            <ComponentTitle>Articles</ComponentTitle>\n\n            <ButtonHolders>\n              <ActionBtn type=\"danger\" onClick={resetRecords}>\n                Reset record\n              </ActionBtn>\n\n              <ActionBtn type=\"primary\" onClick={() => handleModal(null)}>\n                Add new record\n              </ActionBtn>\n            </ButtonHolders>\n          </TitleWrapper>\n\n          <Modal\n            visible={modalActive}\n            onClose={() => dispatch(toggleModal(null))}\n            title={article.key ? 'Update Article' : 'Add New Article'}\n            okText={article.key ? 'Update Article' : 'Add Article'}\n            onOk={() => handleRecord('insert', article)}\n            onCancel={() => dispatch(toggleModal(null))}\n          >\n            <Form>\n              <Fieldset>\n                <Label>Title</Label>\n                <Input\n                  label=\"Title\"\n                  placeholder=\"Enter Title\"\n                  value={article.title}\n                  onChange={e => onRecordChange(e, 'title')}\n                />\n              </Fieldset>\n\n              <Fieldset>\n                <Label>Description</Label>\n                <Textarea\n                  label=\"Description\"\n                  placeholder=\"Enter Description\"\n                  rows={5}\n                  value={article.description}\n                  onChange={e => onRecordChange(e, 'description')}\n                />\n              </Fieldset>\n\n              <Fieldset>\n                <Label>Excerpt</Label>\n                <Textarea\n                  label=\"Excerpt\"\n                  rows={5}\n                  placeholder=\"Enter excerpt\"\n                  value={article.excerpt}\n                  onChange={e => onRecordChange(e, 'excerpt')}\n                />\n              </Fieldset>\n\n              <Fieldset>\n                <Label>Slug</Label>\n\n                <Input\n                  label=\"Slug\"\n                  placeholder=\"Enter Slugs\"\n                  value={article.slug}\n                  onChange={e => onRecordChange(e, 'slug')}\n                />\n              </Fieldset>\n\n              <Fieldset>\n                <Label>Status</Label>\n                <Select\n                  defaultValue={article.status}\n                  placeholder=\"Enter Status\"\n                  onChange={value => onSelectChange('status', value)}\n                  style={{ width: '170px' }}\n                >\n                  <Option value=\"draft\">Draft</Option>\n                  <Option value=\"publish\">Publish</Option>\n                </Select>\n              </Fieldset>\n            </Form>\n          </Modal>\n          <TableWrapper\n            rowKey=\"key\"\n            rowSelection={rowSelection}\n            columns={columns}\n            bordered={true}\n            dataSource={dataSource}\n            loading={isLoading}\n            className=\"isoSimpleTable\"\n            pagination={{\n              // defaultPageSize: 1,\n              hideOnSinglePage: true,\n              total: dataSource.length,\n              showTotal: (total, range) => {\n                return `Showing ${range[0]}-${range[1]} of ${\n                  dataSource.length\n                } Results`;\n              },\n            }}\n          />\n        </ContentHolder>\n      </Box>\n    </LayoutContentWrapper>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}