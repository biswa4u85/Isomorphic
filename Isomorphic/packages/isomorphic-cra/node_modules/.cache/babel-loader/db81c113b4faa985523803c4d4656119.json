{"ast":null,"code":"import Fuse from 'fuse.js';\nimport cloneDeep from 'lodash/cloneDeep';\nexport const filterSearchedComponents = (tasks = {}, columns = {}, searchText = '') => {\n  if (searchText !== '') {\n    let allTaskslist = Object.values(tasks);\n    let fuse = new Fuse(allTaskslist, {\n      shouldSort: true,\n      threshold: 0.6,\n      location: 0,\n      distance: 100,\n      maxPatternLength: 32,\n      minMatchCharLength: 1,\n      keys: ['title', 'labels', 'assignee']\n    });\n    let result = fuse.search(searchText);\n    const resultTasks = result.reduce((newTasks, task) => {\n      newTasks[task.id] = task;\n      return newTasks;\n    }, {});\n    const resolvedTaskIDs = Object.keys(resultTasks);\n    const newColumns = cloneDeep(columns);\n    Object.keys(newColumns).map(column => {\n      return newColumns[column].task_orders = newColumns[column].task_orders.filter(taskid => resolvedTaskIDs.includes(taskid));\n    });\n    return newColumns;\n  }\n\n  return columns;\n};","map":{"version":3,"sources":["/Users/biswa/Sites/Others/demo/Isomorphic/shared/library/helpers/searchTaskCard.js"],"names":["Fuse","cloneDeep","filterSearchedComponents","tasks","columns","searchText","allTaskslist","Object","values","fuse","shouldSort","threshold","location","distance","maxPatternLength","minMatchCharLength","keys","result","search","resultTasks","reduce","newTasks","task","id","resolvedTaskIDs","newColumns","map","column","task_orders","filter","taskid","includes"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,SAAjB;AAEA,OAAOC,SAAP,MAAsB,kBAAtB;AAEA,OAAO,MAAMC,wBAAwB,GAAG,CACtCC,KAAK,GAAG,EAD8B,EAEtCC,OAAO,GAAG,EAF4B,EAGtCC,UAAU,GAAG,EAHyB,KAInC;AACH,MAAIA,UAAU,KAAK,EAAnB,EAAuB;AACrB,QAAIC,YAAY,GAAGC,MAAM,CAACC,MAAP,CAAcL,KAAd,CAAnB;AACA,QAAIM,IAAI,GAAG,IAAIT,IAAJ,CAASM,YAAT,EAAuB;AAChCI,MAAAA,UAAU,EAAE,IADoB;AAEhCC,MAAAA,SAAS,EAAE,GAFqB;AAGhCC,MAAAA,QAAQ,EAAE,CAHsB;AAIhCC,MAAAA,QAAQ,EAAE,GAJsB;AAKhCC,MAAAA,gBAAgB,EAAE,EALc;AAMhCC,MAAAA,kBAAkB,EAAE,CANY;AAOhCC,MAAAA,IAAI,EAAE,CAAC,OAAD,EAAU,QAAV,EAAoB,UAApB;AAP0B,KAAvB,CAAX;AASA,QAAIC,MAAM,GAAGR,IAAI,CAACS,MAAL,CAAYb,UAAZ,CAAb;AACA,UAAMc,WAAW,GAAGF,MAAM,CAACG,MAAP,CAAc,CAACC,QAAD,EAAWC,IAAX,KAAoB;AACpDD,MAAAA,QAAQ,CAACC,IAAI,CAACC,EAAN,CAAR,GAAoBD,IAApB;AACA,aAAOD,QAAP;AACD,KAHmB,EAGjB,EAHiB,CAApB;AAIA,UAAMG,eAAe,GAAGjB,MAAM,CAACS,IAAP,CAAYG,WAAZ,CAAxB;AACA,UAAMM,UAAU,GAAGxB,SAAS,CAACG,OAAD,CAA5B;AACAG,IAAAA,MAAM,CAACS,IAAP,CAAYS,UAAZ,EAAwBC,GAAxB,CAA4BC,MAAM,IAAI;AACpC,aAAQF,UAAU,CAACE,MAAD,CAAV,CAAmBC,WAAnB,GAAiCH,UAAU,CACjDE,MADiD,CAAV,CAEvCC,WAFuC,CAE3BC,MAF2B,CAEpBC,MAAM,IAAIN,eAAe,CAACO,QAAhB,CAAyBD,MAAzB,CAFU,CAAzC;AAGD,KAJD;AAMA,WAAOL,UAAP;AACD;;AAED,SAAOrB,OAAP;AACD,CAjCM","sourcesContent":["import Fuse from 'fuse.js';\n\nimport cloneDeep from 'lodash/cloneDeep';\n\nexport const filterSearchedComponents = (\n  tasks = {},\n  columns = {},\n  searchText = ''\n) => {\n  if (searchText !== '') {\n    let allTaskslist = Object.values(tasks);\n    let fuse = new Fuse(allTaskslist, {\n      shouldSort: true,\n      threshold: 0.6,\n      location: 0,\n      distance: 100,\n      maxPatternLength: 32,\n      minMatchCharLength: 1,\n      keys: ['title', 'labels', 'assignee'],\n    });\n    let result = fuse.search(searchText);\n    const resultTasks = result.reduce((newTasks, task) => {\n      newTasks[task.id] = task;\n      return newTasks;\n    }, {});\n    const resolvedTaskIDs = Object.keys(resultTasks);\n    const newColumns = cloneDeep(columns);\n    Object.keys(newColumns).map(column => {\n      return (newColumns[column].task_orders = newColumns[\n        column\n      ].task_orders.filter(taskid => resolvedTaskIDs.includes(taskid)));\n    });\n\n    return newColumns;\n  }\n\n  return columns;\n};\n"]},"metadata":{},"sourceType":"module"}