{"ast":null,"code":"import _objectWithoutProperties from \"/Users/biswa/Sites/Others/demo/Isomorphic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/biswa/Sites/Others/demo/Isomorphic/packages/isomorphic-cra/src/router.js\";\nimport React, { lazy, Suspense } from 'react';\nimport { Route, Redirect, BrowserRouter as Router, Switch, useLocation } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport ErrorBoundary from './ErrorBoundary';\nimport { PUBLIC_ROUTE } from './route.constants';\nimport Loader from '@iso/components/utility/loader';\nconst Dashboard = lazy(() => import('./containers/Dashboard/Dashboard'));\nconst publicRoutes = [{\n  path: PUBLIC_ROUTE.LANDING,\n  exact: true,\n  component: lazy(() => import('@iso/containers/Pages/SignIn/SignIn'))\n}, {\n  path: PUBLIC_ROUTE.PAGE_404,\n  component: lazy(() => import('@iso/containers/Pages/404/404'))\n}, {\n  path: PUBLIC_ROUTE.PAGE_500,\n  component: lazy(() => import('@iso/containers/Pages/500/500'))\n}, {\n  path: PUBLIC_ROUTE.SIGN_IN,\n  component: lazy(() => import('@iso/containers/Pages/SignIn/SignIn'))\n}, {\n  path: PUBLIC_ROUTE.SIGN_UP,\n  component: lazy(() => import('@iso/containers/Pages/SignUp/SignUp'))\n}, {\n  path: PUBLIC_ROUTE.FORGET_PASSWORD,\n  component: lazy(() => import('@iso/containers/Pages/ForgotPassword/ForgotPassword'))\n}, {\n  path: PUBLIC_ROUTE.RESET_PASSWORD,\n  component: lazy(() => import('@iso/containers/Pages/ResetPassword/ResetPassword'))\n}, {\n  path: PUBLIC_ROUTE.AUTH0_CALLBACK,\n  component: lazy(() => import('@iso/containers/Authentication/Auth0/Auth0Callback'))\n}];\n\nfunction PrivateRoute(_ref) {\n  let children = _ref.children,\n      rest = _objectWithoutProperties(_ref, [\"children\"]);\n\n  let location = useLocation();\n  const isLoggedIn = useSelector(state => state.Auth.idToken);\n  if (isLoggedIn) return React.createElement(Route, Object.assign({}, rest, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), children);\n  return React.createElement(Redirect, {\n    to: {\n      pathname: '/signin',\n      state: {\n        from: location\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  });\n}\n\nexport default function Routes() {\n  return React.createElement(ErrorBoundary, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(Suspense, {\n    fallback: React.createElement(Loader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(Router, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, publicRoutes.map((route, index) => React.createElement(Route, {\n    key: index,\n    path: route.path,\n    exact: route.exact,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(route.component, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }))), React.createElement(PrivateRoute, {\n    path: \"/dashboard\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(Dashboard, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }))))));\n}","map":{"version":3,"sources":["/Users/biswa/Sites/Others/demo/Isomorphic/packages/isomorphic-cra/src/router.js"],"names":["React","lazy","Suspense","Route","Redirect","BrowserRouter","Router","Switch","useLocation","useSelector","ErrorBoundary","PUBLIC_ROUTE","Loader","Dashboard","publicRoutes","path","LANDING","exact","component","PAGE_404","PAGE_500","SIGN_IN","SIGN_UP","FORGET_PASSWORD","RESET_PASSWORD","AUTH0_CALLBACK","PrivateRoute","children","rest","location","isLoggedIn","state","Auth","idToken","pathname","from","Routes","map","route","index"],"mappings":"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","sourcesContent":["import React, { lazy, Suspense } from 'react';\nimport {\n  Route,\n  Redirect,\n  BrowserRouter as Router,\n  Switch,\n  useLocation,\n} from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nimport ErrorBoundary from './ErrorBoundary';\nimport { PUBLIC_ROUTE } from './route.constants';\nimport Loader from '@iso/components/utility/loader';\n\nconst Dashboard = lazy(() => import('./containers/Dashboard/Dashboard'));\n\nconst publicRoutes = [\n  {\n    path: PUBLIC_ROUTE.LANDING,\n    exact: true,\n    component: lazy(() => import('@iso/containers/Pages/SignIn/SignIn')),\n  },\n  {\n    path: PUBLIC_ROUTE.PAGE_404,\n    component: lazy(() => import('@iso/containers/Pages/404/404')),\n  },\n  {\n    path: PUBLIC_ROUTE.PAGE_500,\n    component: lazy(() => import('@iso/containers/Pages/500/500')),\n  },\n  {\n    path: PUBLIC_ROUTE.SIGN_IN,\n    component: lazy(() => import('@iso/containers/Pages/SignIn/SignIn')),\n  },\n  {\n    path: PUBLIC_ROUTE.SIGN_UP,\n    component: lazy(() => import('@iso/containers/Pages/SignUp/SignUp')),\n  },\n  {\n    path: PUBLIC_ROUTE.FORGET_PASSWORD,\n    component: lazy(() =>\n      import('@iso/containers/Pages/ForgotPassword/ForgotPassword')\n    ),\n  },\n  {\n    path: PUBLIC_ROUTE.RESET_PASSWORD,\n    component: lazy(() =>\n      import('@iso/containers/Pages/ResetPassword/ResetPassword')\n    ),\n  },\n  {\n    path: PUBLIC_ROUTE.AUTH0_CALLBACK,\n    component: lazy(() =>\n      import('@iso/containers/Authentication/Auth0/Auth0Callback')\n    ),\n  },\n];\n\nfunction PrivateRoute({ children, ...rest }) {\n  let location = useLocation();\n  const isLoggedIn = useSelector(state => state.Auth.idToken);\n  if (isLoggedIn) return <Route {...rest}>{children}</Route>;\n  return (\n    <Redirect\n      to={{\n        pathname: '/signin',\n        state: { from: location },\n      }}\n    />\n  );\n}\nexport default function Routes() {\n  return (\n    <ErrorBoundary>\n      <Suspense fallback={<Loader />}>\n        <Router>\n          <Switch>\n            {publicRoutes.map((route, index) => (\n              <Route key={index} path={route.path} exact={route.exact}>\n                <route.component />\n              </Route>\n            ))}\n            <PrivateRoute path=\"/dashboard\">\n              <Dashboard />\n            </PrivateRoute>\n          </Switch>\n        </Router>\n      </Suspense>\n    </ErrorBoundary>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}