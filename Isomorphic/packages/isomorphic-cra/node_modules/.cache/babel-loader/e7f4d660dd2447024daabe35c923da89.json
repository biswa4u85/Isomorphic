{"ast":null,"code":"import _defineProperty from \"/Users/biswa/Sites/Others/demo/Isomorphic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/biswa/Sites/Others/demo/Isomorphic/shared/containers/ScrumBoard/Task/TaskCreateOrUpdate/TaskCreateOrUpdate.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Formik } from 'formik';\nimport moment from 'moment';\nimport uuidV4 from 'uuid/v4';\nimport RenderTaskForm from './RenderCreateTaskForm/RenderCreateTaskForm';\nimport { dateFormat } from '@iso/components/ScrumBoard/FieldFormats';\nimport scrumBoardActions from '@iso/redux/scrumBoard/actions';\nimport { CreateTaskWrapper } from './TaskCreateOrUpdate.style';\nconst initialValues = {\n  id: '',\n  title: '',\n  description: '',\n  labels: [],\n  assignees: [],\n  attachments: [],\n  comments: [],\n  todos: [],\n  column_id: '',\n  editing: false,\n  created_at: moment(Date.now()),\n  updated_at: moment(Date.now()),\n  due_date: moment(Date.now()),\n  selectOptions: ['success', 'error', 'processing', 'warning', 'default'],\n  selectAssignees: ['Mark', 'Bob', 'Anthony']\n};\n\nconst TaskForm = props => {\n  const initials = _objectSpread({}, initialValues, {}, props.initials, {\n    due_date: moment(props.initials && props.initials.due_date ? props.initials.due_date : Date.now()),\n    updated_at: moment(Date.now())\n  });\n\n  const handleSubmit = formProps => {\n    if (!formProps.editing) {\n      formProps.id = uuidV4();\n      formProps.column_id = props.columnId;\n      formProps.editing = false;\n      formProps.created_at = moment(formProps.created_at).format(dateFormat).toString();\n    }\n\n    props.createOrUpdateTaskWatcher(_objectSpread({}, formProps, {\n      due_date: moment(formProps.due_date).format(dateFormat).toString(),\n      updated_at: moment(formProps.updated_at).format(dateFormat).toString()\n    }));\n    props.closeDrawer();\n  };\n\n  return React.createElement(CreateTaskWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(Formik, {\n    initialValues: initials,\n    onSubmit: handleSubmit,\n    render: formikProps => React.createElement(RenderTaskForm, Object.assign({}, formikProps, {\n      onCancel: props.closeDrawer,\n      onDelete: () => {\n        props.deleteTask({\n          taskId: props.initials.id,\n          column_id: props.columnId\n        });\n        props.closeDrawer();\n      },\n      onEditCancel: () => {\n        props.cancelEditTask(props.initials);\n        props.openDrawer({\n          drawerType: 'CARD_DETAILS',\n          drawerProps: {\n            task: _objectSpread({}, props.initials),\n            columnId: props.columnId\n          }\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }));\n};\n\nexport default connect(null, _objectSpread({}, scrumBoardActions))(TaskForm);","map":{"version":3,"sources":["/Users/biswa/Sites/Others/demo/Isomorphic/shared/containers/ScrumBoard/Task/TaskCreateOrUpdate/TaskCreateOrUpdate.js"],"names":["React","connect","Formik","moment","uuidV4","RenderTaskForm","dateFormat","scrumBoardActions","CreateTaskWrapper","initialValues","id","title","description","labels","assignees","attachments","comments","todos","column_id","editing","created_at","Date","now","updated_at","due_date","selectOptions","selectAssignees","TaskForm","props","initials","handleSubmit","formProps","columnId","format","toString","createOrUpdateTaskWatcher","closeDrawer","formikProps","deleteTask","taskId","cancelEditTask","openDrawer","drawerType","drawerProps","task"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { Formik } from 'formik';\nimport moment from 'moment';\nimport uuidV4 from 'uuid/v4';\nimport RenderTaskForm from './RenderCreateTaskForm/RenderCreateTaskForm';\nimport { dateFormat } from '@iso/components/ScrumBoard/FieldFormats';\nimport scrumBoardActions from '@iso/redux/scrumBoard/actions';\nimport { CreateTaskWrapper } from './TaskCreateOrUpdate.style';\n\nconst initialValues = {\n  id: '',\n  title: '',\n  description: '',\n  labels: [],\n  assignees: [],\n  attachments: [],\n  comments: [],\n  todos: [],\n  column_id: '',\n  editing: false,\n  created_at: moment(Date.now()),\n  updated_at: moment(Date.now()),\n  due_date: moment(Date.now()),\n  selectOptions: ['success', 'error', 'processing', 'warning', 'default'],\n  selectAssignees: ['Mark', 'Bob', 'Anthony'],\n};\n\nconst TaskForm = props => {\n  const initials = {\n    ...initialValues,\n    ...props.initials,\n    due_date: moment(\n      props.initials && props.initials.due_date\n        ? props.initials.due_date\n        : Date.now()\n    ),\n    updated_at: moment(Date.now()),\n  };\n\n  const handleSubmit = formProps => {\n    if (!formProps.editing) {\n      formProps.id = uuidV4();\n      formProps.column_id = props.columnId;\n      formProps.editing = false;\n      formProps.created_at = moment(formProps.created_at)\n        .format(dateFormat)\n        .toString();\n    }\n\n    props.createOrUpdateTaskWatcher({\n      ...formProps,\n      due_date: moment(formProps.due_date)\n        .format(dateFormat)\n        .toString(),\n      updated_at: moment(formProps.updated_at)\n        .format(dateFormat)\n        .toString(),\n    });\n    props.closeDrawer();\n  };\n\n  return (\n    <CreateTaskWrapper>\n      <Formik\n        initialValues={initials}\n        onSubmit={handleSubmit}\n        render={formikProps => (\n          <RenderTaskForm\n            {...formikProps}\n            onCancel={props.closeDrawer}\n            onDelete={() => {\n              props.deleteTask({\n                taskId: props.initials.id,\n                column_id: props.columnId,\n              });\n              props.closeDrawer();\n            }}\n            onEditCancel={() => {\n              props.cancelEditTask(props.initials);\n              props.openDrawer({\n                drawerType: 'CARD_DETAILS',\n                drawerProps: {\n                  task: { ...props.initials },\n                  columnId: props.columnId,\n                },\n              });\n            }}\n          />\n        )}\n      />\n    </CreateTaskWrapper>\n  );\n};\nexport default connect(\n  null,\n  {\n    ...scrumBoardActions,\n  }\n)(TaskForm);\n"]},"metadata":{},"sourceType":"module"}